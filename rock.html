<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock the free world</title>
</head>
<body>

  
<script>
    function getComputer(){
        let options = ["rock", "paper", "sissors"];
        return options[getRandomInt(3)];
    }

    function getRandomInt(max) {
        return Math.floor(Math.random() * Math.floor(max));
    }

    function getPlayer(){
        let playerRaw="";
        while (!(playerRaw && (playerRaw.toLowerCase() == "rock" || playerRaw.toLowerCase() == "paper" || playerRaw.toLowerCase() == "sissors"))) {
            playerRaw = prompt("So - Rock, paper, or Sissors?","Ready");
        }
        return playerRaw.toLowerCase();
    }

function playRound (playerSelection, computerSelection){

    let gameResult="";
    
    console.log("Player is "+playerSelection);
    console.log("Computer is "+computerSelection);

    if (playerSelection == computerSelection){
        console.log ("How boring - its a tie game.")
        gameResult="Tie";
    } else {
        switch (playerSelection+computerSelection) {
            case "rock"+"paper":
                gameResult="Loss";
                break;
            case "rock"+"sissors":
                gameResult="Win";
                break;
            case "paper"+"rock":
                gameResult="Win";
                break;    
            case "paper"+"sissors":
                gameResult="Loss";
                break;                   
            case "sissors"+"rock":
                gameResult="Loss";
                break;
            case "sissors"+"paper":
                gameResult="Win";
                break;
            default:
            console.log("FUCKUP!");
                break;
        }
    let gamePrint = gameResult=="Win" ? ("You are a champ! "+playerSelection+ " beats " +computerSelection+". ") : (" HaHa sucker - you LOSE! "+playerSelection+ " could never beat " +computerSelection+".");
    console.log (gamePrint);
    }
  
    return gameResult;
}

function game (count){
    let win=0;
    let loss=0;
    let tie=0
    let i;
    for (i=0;i<count;i++) {
        let gameResult=playRound(getPlayer(),getComputer())
        switch (gameResult) {
            case "Win":
                ++win
                break;
            case "Loss":
                ++loss
                break;
            case "Tie":
                ++tie
                break;
            default:
                break;
        }
        console.log("So far you have "+win+" wins and "+loss+" loss(es) and "+tie+" ties in "+(i+1)+" game(s)");
    }
    console.log("Thats all kids: "+win+" wins and "+loss+" loss(es) and "+tie+" ties.")
}
</script>
</body>
</html>